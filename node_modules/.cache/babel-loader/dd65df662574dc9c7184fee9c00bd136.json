{"remainingRequest":"C:\\OSPanel\\domains\\vueshop\\node_modules\\babel-loader\\lib\\index.js!C:\\OSPanel\\domains\\vueshop\\src\\vuex\\store.js","dependencies":[{"path":"C:\\OSPanel\\domains\\vueshop\\src\\vuex\\store.js","mtime":1587335731856},{"path":"C:\\OSPanel\\domains\\vueshop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\OSPanel\\domains\\vueshop\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVleCBmcm9tICd2dWV4JzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKVnVlLnVzZShWdWV4KTsKdmFyIHN0b3JlID0gbmV3IFZ1ZXguU3RvcmUoewogIHN0YXRlOiB7CiAgICBwcm9kdWN0czogW10sCiAgICBjYXJ0OiBbXQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBTRVRfUFJPRFVDVFNfVE9fU1RBVEU6IGZ1bmN0aW9uIFNFVF9QUk9EVUNUU19UT19TVEFURShzdGF0ZSwgcHJvZHVjdHMpIHsKICAgICAgc3RhdGUucHJvZHVjdHMgPSBwcm9kdWN0czsKICAgIH0sCiAgICBTRVRfQ0FSVDogZnVuY3Rpb24gU0VUX0NBUlQoc3RhdGUsIHByb2R1Y3QpIHsKICAgICAgaWYgKHN0YXRlLmNhcnQubGVuZ3RoKSB7CiAgICAgICAgdmFyIGlzUHJvZHVjdEV4aXN0cyA9IGZhbHNlOwogICAgICAgIHN0YXRlLmNhcnQubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICBpZiAoaXRlbS5hcnRpY2xlID09PSBwcm9kdWN0LmFydGljbGUpIHsKICAgICAgICAgICAgaXNQcm9kdWN0RXhpc3RzID0gdHJ1ZTsKICAgICAgICAgICAgaXRlbS5xdWFudGl0eSsrOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHN0YXRlLmNhcnQucHVzaChwcm9kdWN0KTsKICAgICAgfQogICAgfSwKICAgIFJFTU9WRV9GUk9NX0NBUlQ6IGZ1bmN0aW9uIFJFTU9WRV9GUk9NX0NBUlQoc3RhdGUsIGluZGV4KSB7CiAgICAgIHN0YXRlLmNhcnQuc3BsaWNlKGluZGV4LCAxKTsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIEdFVF9QUk9EVUNUU19GUk9NX0FQSTogZnVuY3Rpb24gR0VUX1BST0RVQ1RTX0ZST01fQVBJKF9yZWYpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICByZXR1cm4gYXhpb3MoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9wcm9kdWN0cycsIHsKICAgICAgICBtZXRob2Q6ICJHRVQiCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHByb2R1Y3RzKSB7CiAgICAgICAgY29tbWl0KCdTRVRfUFJPRFVDVFNfVE9fU1RBVEUnLCBwcm9kdWN0cy5kYXRhKTsKICAgICAgICByZXR1cm4gcHJvZHVjdHM7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICByZXR1cm4gZXJyb3I7CiAgICAgIH0pOwogICAgfSwKICAgIEFERF9UT19DQVJUOiBmdW5jdGlvbiBBRERfVE9fQ0FSVChfcmVmMiwgcHJvZHVjdCkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICBjb21taXQoJ1NFVF9DQVJUJywgcHJvZHVjdCk7CiAgICB9LAogICAgREVMRVRFX0ZST01fQ0FSVDogZnVuY3Rpb24gREVMRVRFX0ZST01fQ0FSVChfcmVmMywgaW5kZXgpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICAgICAgY29tbWl0KCdSRU1PVkVfRlJPTV9DQVJUJywgaW5kZXgpOwogICAgfQogIH0sCiAgZ2V0dGVyczogewogICAgUFJPRFVDVFM6IGZ1bmN0aW9uIFBST0RVQ1RTKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5wcm9kdWN0czsKICAgIH0sCiAgICBDQVJUOiBmdW5jdGlvbiBDQVJUKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5jYXJ0OwogICAgfQogIH0KfSk7CmV4cG9ydCBkZWZhdWx0IHN0b3JlOw=="},{"version":3,"sources":["C:/OSPanel/domains/vueshop/src/vuex/store.js"],"names":["Vue","Vuex","axios","use","store","Store","state","products","cart","mutations","SET_PRODUCTS_TO_STATE","SET_CART","product","length","isProductExists","map","item","article","quantity","push","REMOVE_FROM_CART","index","splice","actions","GET_PRODUCTS_FROM_API","commit","method","then","data","catch","error","console","log","ADD_TO_CART","DELETE_FROM_CART","getters","PRODUCTS","CART"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAGAF,GAAG,CAACG,GAAJ,CAAQF,IAAR;AAEA,IAAMG,KAAK,GAAG,IAAIH,IAAI,CAACI,KAAT,CAAe;AAEzBC,EAAAA,KAAK,EAAE;AACHC,IAAAA,QAAQ,EAAE,EADP;AAEHC,IAAAA,IAAI,EAAE;AAFH,GAFkB;AAMzBC,EAAAA,SAAS,EAAE;AACPC,IAAAA,qBAAqB,EAAE,+BAACJ,KAAD,EAAQC,QAAR,EAAqB;AACxCD,MAAAA,KAAK,CAACC,QAAN,GAAiBA,QAAjB;AACH,KAHM;AAIPI,IAAAA,QAAQ,EAAE,kBAACL,KAAD,EAAQM,OAAR,EAAoB;AAE1B,UAAIN,KAAK,CAACE,IAAN,CAAWK,MAAf,EAAuB;AACnB,YAAIC,eAAe,GAAG,KAAtB;AACAR,QAAAA,KAAK,CAACE,IAAN,CAAWO,GAAX,CAAe,UAASC,IAAT,EAAe;AAE1B,cAAIA,IAAI,CAACC,OAAL,KAAiBL,OAAO,CAACK,OAA7B,EAAsC;AAClCH,YAAAA,eAAe,GAAG,IAAlB;AACAE,YAAAA,IAAI,CAACE,QAAL;AACH;AACJ,SAND;AAOH,OATD,MAUK;AACDZ,QAAAA,KAAK,CAACE,IAAN,CAAWW,IAAX,CAAgBP,OAAhB;AACH;AACJ,KAnBM;AAoBPQ,IAAAA,gBAAgB,EAAE,0BAACd,KAAD,EAAQe,KAAR,EAAkB;AAChCf,MAAAA,KAAK,CAACE,IAAN,CAAWc,MAAX,CAAkBD,KAAlB,EAAyB,CAAzB;AACH;AAtBM,GANc;AA8BzBE,EAAAA,OAAO,EAAE;AACLC,IAAAA,qBADK,uCAC2B;AAAA,UAATC,MAAS,QAATA,MAAS;AAC5B,aAAOvB,KAAK,CAAC,gCAAD,EAAmC;AAC3CwB,QAAAA,MAAM,EAAE;AADmC,OAAnC,CAAL,CAGNC,IAHM,CAGD,UAACpB,QAAD,EAAc;AAChBkB,QAAAA,MAAM,CAAC,uBAAD,EAA0BlB,QAAQ,CAACqB,IAAnC,CAAN;AACA,eAAOrB,QAAP;AACH,OANM,EAONsB,KAPM,CAOA,UAACC,KAAD,EAAW;AACdC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA,eAAOA,KAAP;AACH,OAVM,CAAP;AAWH,KAbI;AAcLG,IAAAA,WAdK,8BAciBrB,OAdjB,EAc0B;AAAA,UAAlBa,MAAkB,SAAlBA,MAAkB;AAC3BA,MAAAA,MAAM,CAAC,UAAD,EAAab,OAAb,CAAN;AACH,KAhBI;AAiBLsB,IAAAA,gBAjBK,mCAiBsBb,KAjBtB,EAiB6B;AAAA,UAAhBI,MAAgB,SAAhBA,MAAgB;AAC9BA,MAAAA,MAAM,CAAC,kBAAD,EAAqBJ,KAArB,CAAN;AACH;AAnBI,GA9BgB;AAmDzBc,EAAAA,OAAO,EAAE;AACLC,IAAAA,QADK,oBACI9B,KADJ,EACW;AACZ,aAAOA,KAAK,CAACC,QAAb;AACH,KAHI;AAIL8B,IAAAA,IAJK,gBAIA/B,KAJA,EAIO;AACR,aAAOA,KAAK,CAACE,IAAb;AACH;AANI;AAnDgB,CAAf,CAAd;AA6DA,eAAeJ,KAAf","sourcesContent":["import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport axios from 'axios'\r\n\r\n\r\nVue.use(Vuex)\r\n\r\nconst store = new Vuex.Store({\r\n\r\n    state: {\r\n        products: [],\r\n        cart: []\r\n    },\r\n    mutations: {\r\n        SET_PRODUCTS_TO_STATE: (state, products) => {\r\n            state.products = products\r\n        },\r\n        SET_CART: (state, product) => {\r\n\r\n            if (state.cart.length) {\r\n                let isProductExists = false;\r\n                state.cart.map(function(item) {\r\n\r\n                    if (item.article === product.article) {\r\n                        isProductExists = true\r\n                        item.quantity++\r\n                    }\r\n                })\r\n            }\r\n            else {\r\n                state.cart.push(product)\r\n            }\r\n        },\r\n        REMOVE_FROM_CART: (state, index) => {\r\n            state.cart.splice(index, 1)\r\n        }\r\n    },\r\n    actions: {\r\n        GET_PRODUCTS_FROM_API({commit}) {\r\n            return axios('http://localhost:3000/products', {\r\n                method: \"GET\"\r\n            })\r\n            .then((products) => {\r\n                commit('SET_PRODUCTS_TO_STATE', products.data)\r\n                return products\r\n            })\r\n            .catch((error) => {\r\n                console.log(error)\r\n                return error\r\n            })\r\n        },\r\n        ADD_TO_CART({commit}, product) {\r\n            commit('SET_CART', product)\r\n        },\r\n        DELETE_FROM_CART({commit}, index) {\r\n            commit('REMOVE_FROM_CART', index)\r\n        }\r\n    },\r\n    getters: {\r\n        PRODUCTS(state) {\r\n            return state.products;\r\n        },\r\n        CART(state) {\r\n            return state.cart\r\n        }\r\n    }\r\n})\r\n\r\nexport default store"]}]}