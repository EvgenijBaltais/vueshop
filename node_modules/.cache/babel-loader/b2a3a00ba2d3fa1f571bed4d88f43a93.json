{"remainingRequest":"C:\\OSPanel\\domains\\vueshop\\node_modules\\babel-loader\\lib\\index.js!C:\\OSPanel\\domains\\vueshop\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\OSPanel\\domains\\vueshop\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\OSPanel\\domains\\vueshop\\src\\components\\Main.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\OSPanel\\domains\\vueshop\\src\\components\\Main.vue","mtime":1594851578928},{"path":"C:\\OSPanel\\domains\\vueshop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\OSPanel\\domains\\vueshop\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\OSPanel\\domains\\vueshop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\OSPanel\\domains\\vueshop\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBNYWluU2xpZGVyIGZyb20gJy4vbWFpbi1zbGlkZXInOwppbXBvcnQgQ2F0YWxvZ0l0ZW0gZnJvbSAnLi9DYXRhbG9nX2l0ZW0nOwppbXBvcnQgQnJlYWRjcnVtYnMgZnJvbSAnLi9icmVhZGNydW1icyc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTWFpbicsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNjcm9sbGluZzogMAogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIE1haW5TbGlkZXI6IE1haW5TbGlkZXIsCiAgICBDYXRhbG9nSXRlbTogQ2F0YWxvZ0l0ZW0sCiAgICBCcmVhZGNydW1iczogQnJlYWRjcnVtYnMKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFNjcm9sbFNpemU6IGZ1bmN0aW9uIGdldFNjcm9sbFNpemUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5zY3JvbGxpbmcgIT0gMCkgcmV0dXJuIGZhbHNlOwogICAgICBpZiAoIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9kdWN0JykubGVuZ3RoID4gMCkgcmV0dXJuIGZhbHNlOwogICAgICB2YXIgcHJvZHVjdHNBbW91bnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJvZHVjdCcpLAogICAgICAgICAgbGFzdFByb2R1Y3RJZCA9IHByb2R1Y3RzQW1vdW50W3Byb2R1Y3RzQW1vdW50Lmxlbmd0aCAtIDFdLmdldEF0dHJpYnV0ZSgnZGF0YS1pZCcpOwogICAgICBpZiAoIXRoaXMuaXNJblZpZXdwb3J0KHByb2R1Y3RzQW1vdW50W3Byb2R1Y3RzQW1vdW50Lmxlbmd0aCAtIDFdKSkgcmV0dXJuIGZhbHNlOwogICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5nZXRTY3JvbGxTaXplKTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdnZXRNb3JlUHJvZHVjdHMnLCBsYXN0UHJvZHVjdElkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEubGVuZ3RoID49IDYgPyB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgX3RoaXMuZ2V0U2Nyb2xsU2l6ZSkgOiAnJzsKICAgICAgICAgIH0sIDApOwogICAgICAgIH0pOwogICAgICB9LCA2MDApOwogICAgfSwKICAgIGlzSW5WaWV3cG9ydDogZnVuY3Rpb24gaXNJblZpZXdwb3J0KGVsZW1lbnQpIHsKICAgICAgdmFyIHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICB2YXIgaHRtbCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDsKICAgICAgcmV0dXJuIHJlY3QudG9wID49IDAgJiYgcmVjdC5sZWZ0ID49IDAgJiYgcmVjdC5ib3R0b20gPD0gKHdpbmRvdy5pbm5lckhlaWdodCB8fCBodG1sLmNsaWVudEhlaWdodCkgJiYgcmVjdC5yaWdodCA8PSAod2luZG93LmlubmVyV2lkdGggfHwgaHRtbC5jbGllbnRXaWR0aCk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgY29uc29sZS5sb2coJ2NyZWF0ZWQnKTsKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmdldFNjcm9sbFNpemUpOwogIH0sCiAgZGVzdHJveWVkOiBmdW5jdGlvbiBkZXN0cm95ZWQoKSB7CiAgICBjb25zb2xlLmxvZygnZGVzdHJveWVkJyk7CiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5nZXRTY3JvbGxTaXplKTsKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdnZXRDYXRhbG9nJyk7CiAgfSwKICBjb21wdXRlZDogewogICAgcHJvZHVjdHM6IGZ1bmN0aW9uIHByb2R1Y3RzKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUucHJvZHVjdHM7CiAgICB9LAogICAgcm91dDogZnVuY3Rpb24gcm91dCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHJvdXRlLm5hbWU7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge30KfTs="},{"version":3,"sources":["Main.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA,OAAA,UAAA,MAAA,eAAA;AACA,OAAA,WAAA,MAAA,gBAAA;AACA,OAAA,WAAA,MAAA,eAAA;AAEA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AAEA,EAAA,IAAA,EAAA,MAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,SAAA,EAAA;AADA,KAAA;AAGA,GAPA;AAQA,EAAA,UAAA,EAAA;AACA,IAAA,UAAA,EAAA,UADA;AACA,IAAA,WAAA,EAAA,WADA;AACA,IAAA,WAAA,EAAA;AADA,GARA;AAWA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,2BACA;AAAA;;AAEA,UAAA,KAAA,SAAA,IAAA,CAAA,EAAA,OAAA,KAAA;AACA,UAAA,CAAA,QAAA,CAAA,gBAAA,CAAA,UAAA,EAAA,MAAA,GAAA,CAAA,EAAA,OAAA,KAAA;AAEA,UAAA,cAAA,GAAA,QAAA,CAAA,gBAAA,CAAA,UAAA,CAAA;AAAA,UACA,aAAA,GAAA,cAAA,CAAA,cAAA,CAAA,MAAA,GAAA,CAAA,CAAA,CAAA,YAAA,CAAA,SAAA,CADA;AAGA,UAAA,CAAA,KAAA,YAAA,CAAA,cAAA,CAAA,cAAA,CAAA,MAAA,GAAA,CAAA,CAAA,CAAA,EAAA,OAAA,KAAA;AAEA,MAAA,MAAA,CAAA,mBAAA,CAAA,QAAA,EAAA,KAAA,aAAA;AAEA,MAAA,UAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,iBAAA,EAAA,aAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,UAAA,UAAA,CAAA,YAAA;AACA,YAAA,QAAA,CAAA,IAAA,CAAA,MAAA,IAAA,CAAA,GAAA,MAAA,CAAA,gBAAA,CAAA,QAAA,EAAA,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AACA,WAFA,EAEA,CAFA,CAAA;AAGA,SALA;AAMA,OAPA,EAOA,GAPA,CAAA;AAQA,KArBA;AAsBA,IAAA,YAtBA,wBAsBA,OAtBA,EAsBA;AACA,UAAA,IAAA,GAAA,OAAA,CAAA,qBAAA,EAAA;AACA,UAAA,IAAA,GAAA,QAAA,CAAA,eAAA;AACA,aACA,IAAA,CAAA,GAAA,IAAA,CAAA,IACA,IAAA,CAAA,IAAA,IAAA,CADA,IAEA,IAAA,CAAA,MAAA,KAAA,MAAA,CAAA,WAAA,IAAA,IAAA,CAAA,YAAA,CAFA,IAGA,IAAA,CAAA,KAAA,KAAA,MAAA,CAAA,UAAA,IAAA,IAAA,CAAA,WAAA,CAJA;AAMA;AA/BA,GAXA;AA4CA,EAAA,OA5CA,qBA4CA;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,SAAA;AAEA,IAAA,MAAA,CAAA,gBAAA,CAAA,QAAA,EAAA,KAAA,aAAA;AACA,GAhDA;AAiDA,EAAA,SAjDA,uBAiDA;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,WAAA;AACA,IAAA,MAAA,CAAA,mBAAA,CAAA,QAAA,EAAA,KAAA,aAAA;AACA,SAAA,MAAA,CAAA,QAAA,CAAA,YAAA;AACA,GArDA;AAsDA,EAAA,QAAA,EAAA;AACA,IAAA,QADA,sBACA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,QAAA;AACA,KAHA;AAIA,IAAA,IAJA,kBAIA;AACA,aAAA,KAAA,MAAA,CAAA,IAAA;AACA;AANA,GAtDA;AA8DA,EAAA,OA9DA,qBA8DA,CAEA;AAhEA,CAAA","sourcesContent":["<template>\r\n<div>\r\n\r\n    <MainSlider />\r\n    <Breadcrumbs />\r\n\r\n    <section class = \"container title-block\">\r\n        <h1 class = \"main-title\">Цветочный магазин</h1>\r\n        <p class = \"main-text\">Lorem ipsum dolor, sit amet consectetur adipisicing elit. Amet molestias cumque ex voluptatem debitis nulla maxime, adipisci ad beatae odio totam tenetur suscipit corporis numquam eum asperiores ab nostrum optio.</p>\r\n        <p class = \"main-text\">Пресс-секретарь президента России Дмитрий Песков рассказал о состоянии здоровья главы государства Владимира Путина в связи с ситуацией распространения коронавируса, передает РИА \"Новости\". \"Здоровье Путина отменное, это видно по рабочему графику президента\", - подчеркнул представитель Кремля.</p>\r\n    </section>\r\n    <section class=\"container products-block\">\r\n        <p class = \"separator-title\" @click = \"get_products()\">Каталог букетов</p>\r\n        <div class = \"section-separator\">\r\n            <div class = \"separator-filled\"></div>\r\n        </div>\r\n        <div class = \"display-mode\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width = \"22\" height = \"22\" class = \"view-mode-pic view-mode-blocks active\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" style=\"isolation:isolate\" viewBox=\"8 8 48 48\"><defs><clipPath id=\"_clipPath_Gf4xw0XyaJqDDuMEJJHr2aOVa9nFOba2\"><rect x=\"8\" y=\"8\" width=\"48\" height=\"48\"/></clipPath></defs><g clip-path=\"url(#_clipPath_Gf4xw0XyaJqDDuMEJJHr2aOVa9nFOba2)\"><path d=\" M 22 8 C 26.418 8 30 11.582 30 16 L 30 22 C 30 26.418 26.418 30 22 30 L 16 30 C 11.582 30 8 26.418 8 22 L 8 16 C 8 11.582 11.582 8 16 8 L 22 8 Z  M 22 13 L 16 13 C 14.402 13 13.096 14.249 13.005 15.824 L 13 16 L 13 22 C 13 23.598 14.249 24.904 15.824 24.995 L 16 25 L 22 25 C 23.598 25 24.904 23.751 24.995 22.176 L 25 22 L 25 16 C 25 14.402 23.751 13.096 22.176 13.005 L 22 13 Z \" fill=\"rgb(0,0,0)\"/><path d=\" M 48 8 C 52.418 8 56 11.582 56 16 L 56 22 C 56 26.418 52.418 30 48 30 L 42 30 C 37.582 30 34 26.418 34 22 L 34 16 C 34 11.582 37.582 8 42 8 L 48 8 Z  M 48 13 L 42 13 C 40.402 13 39.096 14.249 39.005 15.824 L 39 16 L 39 22 C 39 23.598 40.249 24.904 41.824 24.995 L 42 25 L 48 25 C 49.598 25 50.904 23.751 50.995 22.176 L 51 22 L 51 16 C 51 14.402 49.751 13.096 48.176 13.005 L 48 13 Z \" fill=\"rgb(0,0,0)\"/><path d=\" M 22 34 C 26.418 34 30 37.582 30 42 L 30 48 C 30 52.418 26.418 56 22 56 L 16 56 C 11.582 56 8 52.418 8 48 L 8 42 C 8 37.582 11.582 34 16 34 L 22 34 Z  M 22 39 L 16 39 C 14.402 39 13.096 40.249 13.005 41.824 L 13 42 L 13 48 C 13 49.598 14.249 50.904 15.824 50.995 L 16 51 L 22 51 C 23.598 51 24.904 49.751 24.995 48.176 L 25 48 L 25 42 C 25 40.402 23.751 39.096 22.176 39.005 L 22 39 Z \" fill=\"rgb(0,0,0)\"/><path d=\" M 48 34 C 52.418 34 56 37.582 56 42 L 56 48 C 56 52.418 52.418 56 48 56 L 42 56 C 37.582 56 34 52.418 34 48 L 34 42 C 34 37.582 37.582 34 42 34 L 48 34 Z  M 48 39 L 42 39 C 40.402 39 39.096 40.249 39.005 41.824 L 39 42 L 39 48 C 39 49.598 40.249 50.904 41.824 50.995 L 42 51 L 48 51 C 49.598 51 50.904 49.751 50.995 48.176 L 51 48 L 51 42 C 51 40.402 49.751 39.096 48.176 39.005 L 48 39 Z \" fill=\"rgb(0,0,0)\"/></g></svg>\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width = \"22\" height = \"22\" class = \"view-mode-pic view-mode-list\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" style=\"isolation:isolate\" viewBox=\"2 2 20 20\"><defs><clipPath id=\"_clipPath_29HBJNejlthRV0efUsxjGT83oRrOUz1O\"><rect x=\"2\" y=\"2\"/></clipPath></defs><g clip-path=\"url(#_clipPath_29HBJNejlthRV0efUsxjGT83oRrOUz1O)\"><g><g><path d=\" M 19 18 C 19.55 18 20 18.45 20 19 C 20 19.55 19.55 20 19 20 L 12 20 C 11.45 20 11 19.55 11 19 C 11 18.45 11.45 18 12 18 L 19 18 Z M 19 16 L 12 16 C 10.346 16 9 17.346 9 19 C 9 20.654 10.346 22 12 22 L 19 22 C 20.654 22 22 20.654 22 19 C 22 17.346 20.654 16 19 16 Z \" fill=\"rgb(0,0,0)\"/></g></g><g><g><path d=\" M 19 11 C 19.55 11 20 11.45 20 12 C 20 12.55 19.55 13 19 13 L 12 13 C 11.45 13 11 12.55 11 12 C 11 11.45 11.45 11 12 11 L 19 11 Z M 19 9 L 12 9 C 10.346 9 9 10.346 9 12 C 9 13.654 10.346 15 12 15 L 19 15 C 20.654 15 22 13.654 22 12 C 22 10.346 20.654 9 19 9 Z \" fill=\"rgb(0,0,0)\"/></g></g><g><g><path d=\" M 19 4 C 19.55 4 20 4.45 20 5 C 20 5.55 19.55 6 19 6 L 12 6 C 11.45 6 11 5.55 11 5 C 11 4.45 11.45 4 12 4 L 19 4 Z M 19 2 L 12 2 C 10.346 2 9 3.346 9 5 C 9 6.654 10.346 8 12 8 L 19 8 C 20.654 8 22 6.654 22 5 C 22 3.346 20.654 2 19 2 Z \" fill=\"rgb(0,0,0)\"/></g></g><path d=\" M 6 16 L 4 16 C 2.896 16 2 16.896 2 18 L 2 20 C 2 21.104 2.896 22 4 22 L 6 22 C 7.104 22 8 21.104 8 20 L 8 18 C 8 16.896 7.104 16 6 16 Z M 6 20 L 4 20 L 4 18 L 6 18 L 6 20 Z \" fill=\"rgb(0,0,0)\"/><path d=\" M 6 9 L 4 9 C 2.896 9 2 9.896 2 11 L 2 13 C 2 14.104 2.896 15 4 15 L 6 15 C 7.104 15 8 14.104 8 13 L 8 11 C 8 9.896 7.104 9 6 9 Z M 6 13 L 4 13 L 4 11 L 6 11 L 6 13 Z \" fill=\"rgb(0,0,0)\"/><path d=\" M 6 2 L 4 2 C 2.896 2 2 2.896 2 4 L 2 6 C 2 7.104 2.896 8 4 8 L 6 8 C 7.104 8 8 7.104 8 6 L 8 4 C 8 2.896 7.104 2 6 2 Z M 6 6 L 4 6 L 4 4 L 6 4 L 6 6 Z \" fill=\"rgb(0,0,0)\"/></g></svg>\r\n            <a href=\"\" class = \"change-display-mode\">Сменить отображение</a>\r\n        </div>\r\n        <div class = \"products-wrapper-w\">\r\n            <div class = \"products-wrapper block-mode\">\r\n                \r\n            <CatalogItem\r\n                v-for = \"item in products\"\r\n                :key = \"item.id\"\r\n                v-bind:products=\"item\"\r\n                :data-id = \"item.id\"\r\n            />\r\n\r\n            </div>\r\n        </div>\r\n    </section>\r\n</div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport MainSlider from './main-slider'\r\nimport CatalogItem from './Catalog_item'\r\nimport Breadcrumbs from './breadcrumbs'\r\n\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n\r\n    name: 'Main',\r\n    data() {\r\n        return {\r\n            scrolling: 0\r\n        }\r\n    },\r\n    components: {\r\n        MainSlider, CatalogItem, Breadcrumbs\r\n    },\r\n    methods: {\r\n        getScrollSize(){\r\n\r\n            if (this.scrolling != 0) return false \r\n            if (!document.querySelectorAll('.product').length > 0) return false\r\n\r\n            let productsAmount = document.querySelectorAll('.product'),\r\n                lastProductId = productsAmount[productsAmount.length - 1].getAttribute('data-id')\r\n\r\n                if (!this.isInViewport(productsAmount[productsAmount.length - 1])) return false\r\n   \r\n            window.removeEventListener('scroll', this.getScrollSize)\r\n\r\n            setTimeout(() => {\r\n            this.$store.dispatch('getMoreProducts', lastProductId)\r\n                .then((response) => {\r\n                    setTimeout(() => {\r\n                        response.data.length >= 6 ? window.addEventListener('scroll', this.getScrollSize) : ''\r\n                    }, 0)\r\n                })\r\n            }, 600)\r\n        },\r\n        isInViewport(element) {\r\n        var rect = element.getBoundingClientRect();\r\n        var html = document.documentElement;\r\n        return (\r\n            rect.top >= 0 &&\r\n            rect.left >= 0 &&\r\n            rect.bottom <= (window.innerHeight || html.clientHeight) &&\r\n            rect.right <= (window.innerWidth || html.clientWidth)\r\n        )\r\n        }\r\n    },\r\n    created() {\r\n        console.log('created')\r\n\r\n            window.addEventListener('scroll', this.getScrollSize)\r\n    },\r\n    destroyed(){\r\n        console.log('destroyed')\r\n        window.removeEventListener('scroll', this.getScrollSize)\r\n        this.$store.dispatch('getCatalog')\r\n    },\r\n    computed: {\r\n        products() {\r\n            return this.$store.state.products\r\n        },\r\n        rout(){\r\n            return this.$route.name\r\n        }\r\n    },\r\n  mounted() {\r\n    \r\n  }\r\n}\r\n</script>\r\n"],"sourceRoot":"src/components"}]}