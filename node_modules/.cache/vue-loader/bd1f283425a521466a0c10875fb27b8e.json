{"remainingRequest":"C:\\OSPanel\\domains\\vueshop\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\OSPanel\\domains\\vueshop\\src\\views\\yellow\\Catalog_item.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\OSPanel\\domains\\vueshop\\src\\views\\yellow\\Catalog_item.vue","mtime":1593684263951},{"path":"C:\\OSPanel\\domains\\vueshop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1593523940421},{"path":"C:\\OSPanel\\domains\\vueshop\\node_modules\\babel-loader\\lib\\index.js","mtime":1593523940168},{"path":"C:\\OSPanel\\domains\\vueshop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1593523940421},{"path":"C:\\OSPanel\\domains\\vueshop\\node_modules\\vue-loader\\lib\\index.js","mtime":1593523981027}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCmltcG9ydCB7bWFwR2V0dGVycywgbWFwQWN0aW9uc30gZnJvbSAidnVleCINCg0KZXhwb3J0IGRlZmF1bHQgew0KICAgIG5hbWU6ICdDYXRhbG9nSXRlbScsDQogICAgcHJvcHM6IHsNCiAgICAgICAgcHJvZHVjdHM6IHsNCiAgICAgICAgICAgIHR5cGU6IE9iamVjdCwNCiAgICAgICAgICAgIGRlZmF1bHQoKSB7DQoNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0sDQogICAgZGF0YSgpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIGl0ZW1zOiAxDQogICAgICAgIH0NCiAgICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgICAgLi4ubWFwQWN0aW9ucyhbJ0FERFRPQ0FSVCddKSwNCiAgICAgICAgaW5jcmVhc2VJdGVtKCl7DQogICAgICAgICAgICBpZiAodGhpcy5pdGVtcyA8IDEwMDApIHsNCiAgICAgICAgICAgICAgICB0aGlzLml0ZW1zKysNCiAgICAgICAgICAgICAgICB0aGlzLmZpbmFsUHJpY2UgKz0gdGhpcy5wcm9kdWN0cy5wcmljZQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICAgZGVjcmVhc2VJdGVtKCl7DQogICAgICAgICAgICBpZiAodGhpcy5pdGVtcykgew0KICAgICAgICAgICAgICAgIHRoaXMuaXRlbXMtLQ0KICAgICAgICAgICAgICAgIHRoaXMuZmluYWxQcmljZSAtPSB0aGlzLnByb2R1Y3RzLnByaWNlDQogICAgICAgICAgICB9DQogICAgICAgICB9LA0KICAgICAgICAgYWRkVG9DYXJ0KCl7DQogICAgICAgICAgICAgbGV0IGl0ZW0gPSB7DQogICAgICAgICAgICAgICAgICAgIGlkOiB0aGlzLnByb2R1Y3RzLmlkLA0KICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGhpcy5wcm9kdWN0cy50aXRsZSwNCiAgICAgICAgICAgICAgICAgICAgcHJpY2U6IHRoaXMucHJvZHVjdHMucHJpY2UsDQogICAgICAgICAgICAgICAgICAgIGFtb3VudDogdGhpcy5pdGVtcw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7DQoNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5BRERUT0NBUlQoaXRlbSkNCiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpOw0KICAgICAgICAgICAgICAgIH0pLnRoZW4oKCk9PnsNCiAgICAgICAgICAgICAgICAgICAgbGV0IHN1Y2Nlc3MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2Vzcy5jbGFzc0xpc3QuYWRkKCdzdWNjZXNzLWFkZC10by1jYXJ0JykNCiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MuaW5uZXJUZXh0ID0gJ9Ci0L7QstCw0YAg0YPRgdC/0LXRiNC90L4g0LTQvtCx0LDQstC70LXQvSDQsiDQutC+0YDQt9C40L3RgyEnDQoNCiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmQoc3VjY2Vzcyk7DQogICAgICAgICAgICAgICAgfSkudGhlbigoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCk9PnsNCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN1Y2Nlc3MtYWRkLXRvLWNhcnQnKS5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdWNjZXNzLWFkZC10by1jYXJ0JylbaV0ucmVtb3ZlKCkNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSwgMTAwMCkNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgfQ0KICAgIH0sDQogICAgY29tcHV0ZWQ6IHsNCg0KICAgICAgICAuLi5tYXBHZXR0ZXJzKFsnY2FydEl0ZW1zVmFsdWUnXSkNCiAgICAgICAgDQogICAgfQ0KfQ0KDQo="},{"version":3,"sources":["Catalog_item.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA","file":"Catalog_item.vue","sourceRoot":"src/views/yellow","sourcesContent":["<template>\r\n\r\n<div class = \"product\">\r\n        <div class = \"product-img\">\r\n            <div class = \"block-overlay\">\r\n                <div class = \"add-to-cart add-to-cart-basket\">\r\n                    <div class = \"add-to-cart__button\"></div>\r\n                </div>\r\n            </div>\r\n            <div class = \"product-pic\" :style=\"{backgroundImage: `url(/img/bouqets/${products.img}/1.jpg)`}\"></div>\r\n            <div class = \"sale-info\"></div>\r\n        </div>\r\n        <p class = \"product-title\">\r\n            <a href = \"/product.php\">{{products.title}}</a>\r\n        </p>\r\n        <p class = \"product-price\">{{products.price}} р.</p>\r\n        <div class = \"product-buttons-container\">\r\n            <div class = \"product-info\"></div>\r\n            <div class = \"product-button product-minus\" @click = \"decreaseItem\">\r\n                <div class = \"product-button-inset\">\r\n                    <div class = \"product-button-anim-first\"></div>\r\n                    <div class = \"product-button-anim-second product-minus\"></div>\r\n                </div>\r\n            </div>\r\n            <div class = \"product-button products-amount\">\r\n                <div class = \"product-button-inset\">\r\n                    <div class = \"product-button-anim-first\">{{items}}</div>\r\n                    <div class = \"product-button-anim-second\">{{items}}</div>\r\n                </div>\r\n            </div>\r\n            <div class = \"product-button product-plus\" @click = \"increaseItem\">\r\n                <div class = \"product-button-inset\">\r\n                    <div class = \"product-button-anim-first\"></div>\r\n                    <div class = \"product-button-anim-second product-plus\"></div>\r\n                </div>\r\n            </div>\r\n            <div class = \"product-button product-order\" @click = \"addToCart\" data-info = \"В корзину\">\r\n                <div class = \"product-button-inset\">\r\n                    <div class = \"product-button-anim-first\"></div>\r\n                    <div class = \"product-button-anim-second\"></div>\r\n                </div>\r\n            </div>\r\n            <div class = \"product-button product-like\" data-info = \"В избранное\">\r\n                <div class = \"product-button-inset\">\r\n                    <div class = \"product-button-anim-first\"></div>\r\n                    <div class = \"product-button-anim-second\"></div>\r\n                </div>\r\n            </div>\r\n            <div class = \"product-button product-watch\" data-info = \"Подробнее\">\r\n                <div class = \"product-button-inset\">\r\n                    <div class = \"product-button-anim-first\"></div>\r\n                    <div class = \"product-button-anim-second\"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\nimport {mapGetters, mapActions} from \"vuex\"\r\n\r\nexport default {\r\n    name: 'CatalogItem',\r\n    props: {\r\n        products: {\r\n            type: Object,\r\n            default() {\r\n\r\n            }\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            items: 1\r\n        }\r\n    },\r\n    methods: {\r\n        ...mapActions(['ADDTOCART']),\r\n        increaseItem(){\r\n            if (this.items < 1000) {\r\n                this.items++\r\n                this.finalPrice += this.products.price\r\n            }\r\n        },\r\n         decreaseItem(){\r\n            if (this.items) {\r\n                this.items--\r\n                this.finalPrice -= this.products.price\r\n            }\r\n         },\r\n         addToCart(){\r\n             let item = {\r\n                    id: this.products.id,\r\n                    title: this.products.title,\r\n                    price: this.products.price,\r\n                    amount: this.items\r\n                }\r\n                new Promise((resolve, reject) => {\r\n\r\n                    this.ADDTOCART(item)\r\n                    resolve();\r\n                }).then(()=>{\r\n                    let success = document.createElement('div')\r\n                        success.classList.add('success-add-to-cart')\r\n                        success.innerText = 'Товар успешно добавлен в корзину!'\r\n\r\n                    document.body.append(success);\r\n                }).then(() => {\r\n                    setTimeout(()=>{\r\n                        for (let i = 0; i < document.querySelectorAll('.success-add-to-cart').length; i++) {\r\n                            document.querySelectorAll('.success-add-to-cart')[i].remove()\r\n                        }\r\n                    }, 1000)\r\n                })\r\n         }\r\n    },\r\n    computed: {\r\n\r\n        ...mapGetters(['cartItemsValue'])\r\n        \r\n    }\r\n}\r\n\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"]}]}